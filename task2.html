<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Item Preview</title>

<style>
    :root {
        --accent: #00eaff;
        --glow: rgba(0, 234, 255, 0.6);
    }

    body {
        margin: 0;
        background: #060a12;
        font-family: 'Segoe UI', sans-serif;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: white;
    }

    .title {
        margin-top: 14px;
        font-size: 1.3rem;
        text-shadow: 0 0 10px var(--accent);
        letter-spacing: 1px;
    }

    .preview-container {
        margin-top: 20px;
        width: 90%;
        max-width: 420px;
        perspective: 900px;
    }

    .preview-box {
        width: 100%;
        height: 360px;
        background: rgba(255,255,255,0.05);
        backdrop-filter: blur(6px);
        border: 1px solid rgba(255,255,255,0.12);
        box-shadow: 0 0 15px var(--glow);
        border-radius: 14px;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.1s ease-out;
    }

    .preview-box img {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
        transition: transform 0.15s ease-out;
        pointer-events: none;
    }

    .dots {
        display: flex;
        gap: 8px;
        margin-top: 14px;
    }

    .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: rgba(255,255,255,0.3);
        cursor: pointer;
        transition: 0.2s;
    }
    .dot.active {
        background: var(--accent);
        box-shadow: 0 0 8px var(--accent);
    }
</style>
</head>

<body>

<div class="title">Item Preview (3D + Swipe)</div>

<div class="preview-container">
    <div class="preview-box" id="previewBox">
        <img id="previewImg" src="item1.png" alt="">
    </div>
</div>

<div class="dots" id="dots"></div>

<script>
/* =========================================================
   IMAGE LIST — ADD AS MANY PNGs AS YOU WANT HERE
   ========================================================= */
const items = [
    "Kohane.jpg",
    "Haruka.jpg",
    "item3.png"
];

// DOM
const previewImg = document.getElementById("previewImg");
const previewBox = document.getElementById("previewBox");
const dots = document.getElementById("dots");

let index = 0;

/* =========================================================
   DOTS (PAGE INDICATORS)
   ========================================================= */
function renderDots() {
    dots.innerHTML = "";
    items.forEach((_, i) => {
        const dot = document.createElement("div");
        dot.className = "dot" + (i === index ? " active" : "");
        dot.addEventListener("click", () => {
            index = i;
            updateImage();
        });
        dots.appendChild(dot);
    });
}
function updateImage() {
    previewImg.src = items[index];
    renderDots();
}
renderDots();

/* =========================================================
   SWIPE HANDLING
   ========================================================= */
let startX = 0;
let isSwiping = false;

previewBox.addEventListener("touchstart", (e) => {
    startX = e.touches[0].clientX;
    isSwiping = true;
});

previewBox.addEventListener("touchmove", (e) => {
    if (!isSwiping) return;
    let diff = e.touches[0].clientX - startX;

    if (Math.abs(diff) > 50) {
        if (diff < 0) nextItem();
        else prevItem();
        isSwiping = false;
    }
});

previewBox.addEventListener("touchend", () => {
    isSwiping = false;
});

function nextItem() {
    index = (index + 1) % items.length;
    updateImage();
}

function prevItem() {
    index = (index - 1 + items.length) % items.length;
    updateImage();
}

/* =========================================================
   DEVICE ORIENTATION — 3D TILT EFFECT
   ========================================================= */
if (window.DeviceOrientationEvent) {
    window.addEventListener("deviceorientation", (event) => {
        let x = event.beta;  
        let y = event.gamma;

        if (x > 50) x = 50;
        if (x < -50) x = -50;
        if (y > 50) y = 50;
        if (y < -50) y = -50;

        previewBox.style.transform =
            `rotateX(${x * -0.3}deg) rotateY(${y * 0.3}deg)`;
        previewImg.style.transform =
            `rotateX(${x * -0.15}deg) rotateY(${y * 0.15}deg) scale(1.03)`;
    });
}
</script>

</body>
</html>
