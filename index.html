<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ตารางเรียน ม.5/1</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-image: url('Kohane.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      padding: 20px;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      text-align: center;
      color: #333;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      table-layout: fixed;
      background: rgba(255, 255, 255, 0.4);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    th,
    td {
      border: 1px solid rgba(255, 255, 255, 0.6);
      padding: 12px;
      text-align: center;
      transition: transform 0.25s ease, background-color 0.25s ease;
      overflow-wrap: break-word;
      position: relative;
      background-color: rgba(255, 255, 255, 0.4);
    }

    th {
      background-color: #4f81c7;
      color: white;
    }

    td:hover:not(.free)::after {
      content: attr(data-message);
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      background-color: #444;
      color: #ffffff;
      padding: 6px 10px;
      border-radius: 6px;
      white-space: nowrap;
      z-index: 2;
      opacity: 0.95;
    }

    td:hover:not(.free) {
      background-color: rgba(0, 132, 255, 0.4);
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
      z-index: 1;
      cursor: pointer;
    }

    tr.bottom-row td:hover::after {
      top: auto;
      bottom: 100%;
    }

    .free {
      background-color: #515cff;
    }

    td:empty {
      background-color: rgba(255, 255, 255, 0.4);
    }

    td:empty:hover {
      background-color: rgba(8, 139, 254, 0.4);
    }

    /* Remove rotation on small screens for clarity */
    @media only screen and (max-width: 768px) {
      body {
        /* Removed rotation */
        width: 100%;
        height: auto;
        overflow-x: auto;
        position: relative;
        top: auto;
        left: auto;
      }
      table {
        font-size: 0.9rem;
      }
    }

    .clock-container {
      margin: 20px 0;
      display: flex;
      gap: 40px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }

    .analog-clock {
      width: 200px;
      height: 200px;
      border: 8px solid #fff;
      border-radius: 50%;
      position: relative;
      background: rgba(255, 255, 255, 0.3);
    }

    .analog-clock .number {
      position: absolute;
      width: 20px;
      height: 20px;
      text-align: center;
      transform-origin: center;
      font-weight: bold;
    }

    .hand {
      position: absolute;
      width: 50%;
      height: 2px;
      background: black;
      top: 50%;
      left: 50%;
      transform-origin: left;
      
    }

    .hand.hour {
      height: 4px;
      background: #333;
    }

    .hand.minute {
      background: #555;
    }

    .hand.second {
      background: red;
      height: 1px;
    }

    .digital-clock {
      font-size: 2rem;
      color: cyan;
      font-family: 'Courier New', Courier, monospace;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px 20px;
      border-radius: 10px;
      box-shadow: 0 0 20px cyan;
    }

    .current-subject {
      font-size: 1.2rem;
      margin-top: 10px;
      color: white;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 10px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 0 10px white;
    }
  </style>
</head>

<body>
  <h1>ตารางเรียน ม.5/1 กลุ่ม 1 ภาคเรียนที่ 1/2568</h1>

  <div class="clock-container">
    <div class="analog-clock" id="analog-clock"></div>
    <div>
      <div class="digital-clock" id="digital-clock">00:00:00</div>
      <div class="current-subject" id="current-subject">ขณะนี้ไม่มีคาบเรียน</div>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>วัน/เวลา</th>
        <th>08.30-09.20</th>
        <th>09.20-10.10</th>
        <th>10.20-11.10</th>
        <th>11.10-12.00</th>
        <th>12.00-12.50</th>
        <th>12.50-13.40</th>
        <th>13.50-14.40</th>
        <th>14.40-15.30</th>
        <th>15.30-16.20</th>
        <th>16.20-17.10</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>จันทร์</th>
        <td data-message="ครูปภาวริน ห้อง 514">นาฏศิลป์<br>ครูปภาวริน<br>514</td>
        <td data-message="ครูณัฐพล ห้อง 327">ภาษาอังกฤษ<br>ครูณัฐพล<br>327</td>
        <td data-message="ครูจามจุรี ห้อง 236">คณิตศาสตร์เพิ่มเติม<br>ครูจามจุรี<br>236</td>
        <td data-message="ครูจามจุรี ห้อง 236">คณิตศาสตร์เพิ่มเติม<br>ครูจามจุรี<br>236</td>
        <td data-message="ไปกินข้าว">พักกลางวัน<br>โรงอาหาร</td>
        <td data-message="ครูวราภรณ์ ห้อง 426">ฟิสิกส์ พื้นฐาน<br>ครูวราภรณ์<br>426</td>
        <td data-message="ครูวราภรณ์ ห้อง 426">ฟิสิกส์ พื้นฐาน<br>ครูวราภรณ์<br>426</td>
        <td data-message="ครู Beatriz ห้อง 325">ภาษาอังกฤษเพื่อการสื่อสาร 3<br>ครูBeatriz<br>325</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <th>อังคาร</th>
        <td data-message="ครูพิทักษ์ ห้อง 426">ชีววิทยา 3<br>ครูพิทักษ์<br>426</td>
        <td data-message="ครูพิทักษ์ ห้อง 426">ชีววิทยา 3<br>ครูพิทักษ์<br>426</td>
        <td data-message="ครูฉัตรชัย ห้อง 613">แนะแนว<br>ครูฉัตรชัย<br>613</td>
        <td data-message="ครูธาราวุฒิ ห้อง 536">ประวัติศาสตร์<br>ครูธาราวุฒิ<br>536</td>
        <td data-message="ไปกินข้าว">พักกลางวัน<br>โรงอาหาร</td>
        <td data-message="ครูพีรพัฒน์ ห้อง 525">สังคมศึกษา<br>ครูพีรพัฒน์<br>525</td>
        <td data-message="ครูวราภรณ์ ห้อง 212">ฟิสิกส์ 3<br>ครูวราภรณ์<br>212</td>
        <td data-message="ครูวราภรณ์ ห้อง 212">ฟิสิกส์ 3<br>ครูวราภรณ์<br>212</td>
        <td>ประชุมสี</td>
        <td>-</td>
      </tr>
      <tr>
        <th>พุธ</th>
        <td data-message="ครูพีรพัฒน์ ห้อง 525">สังคมศึกษา<br>ครูพีรพัฒน์<br>525</td>
        <td data-message="ครูนฤมิต ห้อง 245">สุขศึกษาและพลศึกษา<br>ครูนฤมิต<br>245</td>
        <td data-message="ครูวินัย ห้อง 234">คณิตศาสตร์<br>ครูวินัย<br>234</td>
        <td data-message="ครูณัฐพล ห้อง 327">ภาษาอังกฤษ<br>ครูณัฐพล<br>327</td>
        <td data-message="ไปกินข้าว">พักกลางวัน<br>โรงอาหาร</td>
        <td data-message="ครูสุทธิวรรณ ห้อง 433">เคมี 3<br>ครูสุทธิวรรณ<br>433</td>
        <td data-message="ครูพิทักษ์ ห้อง 436">ชีววิทยา 3<br>ครูพิทักษ์<br>436</td>
        <td data-message="ครูวราภรณ์ ห้อง 426">ฟิสิกส์ พื้นฐาน<br>ครูวราภรณ์<br>426</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <th>พฤหัสบดี</th>More actions
          <td data-message="ครูสุทธิวรรณ ห้อง 415">เคมี 3<br>ครูสุทธิวรรณ<br>415</td>
          <td data-message="ครูสุทธิวรรณ ห้อง 415">เคมี 3<br>ครูสุทธิวรรณ<br>415</td>
          <td data-message="ครูวินัย ห้อง 234">คณิตศาสตร์<br>ครูวินัย<br>234</td>
          <td data-message="ครูอรทัย ห้อง 627">ภาษาไทย<br>ครูอรทัย<br>627</td>
          <td>พักกลางวัน</td>
          <td data-message="ครูวราภรณ์ ห้อง 421">ฟิสิกส์ 3<br>ครูวราภรณ์<br>421</td>
          <td data-message="ครูวราภรณ์ ห้อง 421">ฟิสิกส์ 3<br>ครูวราภรณ์<br>421</td>
          <td>ชุมนุม</td>
          <td>ซ่อมเสริม</td>
          <td></td>
        </tr>
        <tr class="bottom-row">
          <th>ศุกร์</th>
          <td data-message="ครูกนิษฐา ห้อง 133">วิทยาศาสตร์เทคโนโลยี<br>ครูกนิษฐา<br>133</td>
          <td data-message="ครูกนิษฐา ห้อง 133">วิทยาศาสตร์เทคโนโลยี<br>ครูกนิษฐา<br>133</td>More actions
          <td data-message="ครูจามจุรี ห้อง 223">คณิตศาสตร์เพิ่มเติม<br>ครูจามจุรี<br>223</td>
          <td data-message="ครูจามจุรี ห้อง 223">คณิตศาสตร์เพิ่มเติม<br>ครูจามจุรี<br>223</td>
          <td>พักกลางวัน</td>
          <td data-message="ครูอธิธร ห้อง 332">Independent Study 1<br>ครูอธิธร<br>332</td>
          <td data-message="ครูอธิธร ห้อง 332">Independent Study 1<br>ครูอธิธร<br>332</td>
          <td data-message="ครูอรทัย ห้อง 627">ภาษาไทย<br>ครูอรทัย<br>627</td>
        <td>-</td>
        <td>-</td>
      </tr>
    </tbody>
  </table>

  <script>
    // Clock drawing logic unchanged but adjusted for #analog-clock container
    const analogClock = document.getElementById('analog-clock');
    const digitalClock = document.getElementById('digital-clock');
    const currentSubject = document.getElementById('current-subject');

    // Create clock hands inside analogClock
    function createHand(className, widthPercent, heightPx, color) {
      const hand = document.createElement('div');
      hand.classList.add('hand', className);
      hand.style.width = widthPercent;
      hand.style.height = heightPx + 'px';
      hand.style.backgroundColor = color;
      analogClock.appendChild(hand);
      return hand;
    }

    // Clear existing hands if any
    analogClock.innerHTML = '';
    const hourHand = createHand('hour', '35%', 4, '#333');
    const minuteHand = createHand('minute', '45%', 3, '#555');
    const secondHand = createHand('second', '50%', 1, 'red');

    function updateClock() {
      const now = new Date();
      const h = now.getHours();
      const m = now.getMinutes();
      const s = now.getSeconds();

      const hourDeg = (h % 12) * 30 + m * 0.5; // 30 deg per hour + 0.5 per min
      const minDeg = m * 6 + s * 0.1;          // 6 deg per min + 0.1 per sec
      const secDeg = s * 6;                    // 6 deg per sec

      hourHand.style.transform = `rotate(${hourDeg}deg)`;
      minuteHand.style.transform = `rotate(${minDeg}deg)`;
      secondHand.style.transform = `rotate(${secDeg}deg)`;

      // Digital clock
      digitalClock.textContent =
        h.toString().padStart(2, '0') + ':' +
        m.toString().padStart(2, '0') + ':' +
        s.toString().padStart(2, '0');

      // Determine current subject from table based on time and day
      updateCurrentSubject(h, m);
    }

    function updateCurrentSubject(hour, minute) {
      // Define periods with start/end times (24h)
      // These match your table times roughly:
      // 08:30-09:20, 09:20-10:10, 10:20-11:10, 11:10-12:00, 12:00-12:50, 12:50-13:40, 13:50-14:40, 14:40-15:30, 15:30-16:20, 16:20-17:10

      const periods = [
        { start: [8, 30], end: [9, 20] },
        { start: [9, 20], end: [10, 10] },
        { start: [10, 20], end: [11, 10] },
        { start: [11, 10], end: [12, 0] },
        { start: [12, 0], end: [12, 50] },
        { start: [12, 50], end: [13, 40] },
        { start: [13, 50], end: [14, 40] },
        { start: [14, 40], end: [15, 30] },
        { start: [15, 30], end: [16, 20] },
        { start: [16, 20], end: [17, 10] }
      ];

      // Get day index: Sunday=0 ... Saturday=6
      const dayIdx = new Date().getDay();

      // Map day index to your table rows (Mon=1, Tue=2, Wed=3, Thu=4, Fri=5)
      // Ignore weekends (0,6)
      if (dayIdx === 0 || dayIdx === 6) {
        currentSubject.textContent = 'ขณะนี้ไม่มีคาบเรียน (วันหยุด)';
        return;
      }

      // Get tbody rows, note rows are Mon=0 ... Fri=4
      const tbody = document.querySelector('tbody');
      const rowIndex = dayIdx - 1;
      const row = tbody.rows[rowIndex];
      if (!row) {
        currentSubject.textContent = 'ขณะนี้ไม่มีคาบเรียน';
        return;
      }

      // Find current period index based on time
      let periodIndex = -1;
      for (let i = 0; i < periods.length; i++) {
        const p = periods[i];
        const startMinutes = p.start[0] * 60 + p.start[1];
        const endMinutes = p.end[0] * 60 + p.end[1];
        const nowMinutes = hour * 60 + minute;
        if (nowMinutes >= startMinutes && nowMinutes < endMinutes) {
          periodIndex = i + 1; // +1 because first cell is day name
          break;
        }
      }
      if (periodIndex === -1) {
        currentSubject.textContent = 'ขณะนี้ไม่มีคาบเรียน';
        return;
      }

      const currentCell = row.cells[periodIndex];
      if (!currentCell || currentCell.textContent.trim() === '-' || currentCell.textContent.trim() === '') {
        currentSubject.textContent = 'ขณะนี้ไม่มีคาบเรียน';
        return;
      }

      currentSubject.textContent = 'ขณะนี้เรียน: ' + currentCell.textContent.replace(/\n/g, ' ');
    }

    setInterval(updateClock, 1000);
    updateClock();
  </script>
</body>

</html>
