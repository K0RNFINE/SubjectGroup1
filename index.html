<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏°.5/1</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-image: url('jpcity.jfif');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      padding: 20px;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* UI text shadow helper (not applied to table) */
    .ui-shadow { text-shadow: 0 1px 3px #000; }

    h1 {
      text-align: center;
      color: #fff;
      margin-bottom: 12px;
    }
    h1.ui-shadow { text-shadow: 0 2px 6px #000; }

    .digital-clock {
      font-size: 2rem;
      color: cyan;
      font-family: 'Courier New', Courier, monospace;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px 20px;
      border-radius: 10px;
      box-shadow: 0 0 20px cyan;
      margin-bottom: 8px;
    }

    .current-subject {
      font-size: 1.2rem;
      margin-top: 6px;
      margin-bottom: 12px;
      color: white;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 10px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 0 10px white;
    }

    /* Progress bars */
    .progress-wrap {
      width: 100%;
      max-width: 1000px;
      display: grid;
      gap: 10px;
      margin-bottom: 14px;
    }

    .progress-block {
      background: rgba(255, 255, 255, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.6);
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.12);
      backdrop-filter: blur(3px);
      transition: box-shadow 0.25s ease;
    }

    .progress-title {
      font-weight: 700;
      margin-bottom: 6px;
      color: #fff;
    }

    .progress-subtitle {
      font-size: 0.95rem;
      margin-bottom: 6px;
      color: #fff;
    }

    /* subtle "after next" line */
    .progress-subnote {
      font-size: 0.9rem;
      color: #e9f6ff;
      opacity: 0.95;
      margin-top: -2px;
      margin-bottom: 6px;
    }

    .progress-bar {
      width: 100%;
      height: 12px;
      border-radius: 999px;
      background: rgba(0,0,0,0.15);
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(79,129,199,1), rgba(0,132,255,1));
      border-radius: 999px;
      transition: width 0.3s ease;
    }

    .progress-time {
      margin-top: 6px;
      font-size: 0.9rem;
      color: #03dffc;
    }

    /* Countdown styles */
    .next-countdown {
      font-size: 1.6rem;
      font-weight: 700;
      margin: 6px 0 4px;
      color: #03dffc; /* will be overridden dynamically */
      text-shadow: 0 1px 3px #000;
    }
    .next-countdown.idle {
      color: #ff3b30; /* red when out of 10-min window */
    }

    @keyframes blink {
      0%, 49%   { opacity: 1; }
      50%, 100% { opacity: 0.25; }
    }
    .blink {
      animation: blink 1s steps(2, start) infinite;
    }

    /* Table (no shadow here for crisp text) */
    table {
      border-collapse: collapse;
      width: 100%;
      table-layout: fixed;
      background: rgba(255, 255, 255, 0.4);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    th, td {
      border: 1px solid rgba(255, 255, 255, 0.6);
      padding: 12px;
      text-align: center;
      background-color: rgba(255, 255, 255, 0.4);
      text-shadow: none; /* keep table text clean */
    }

    th {
      background-color: #4f81c7;
      color: white;
    }

    .highlighted {
      background-color: rgba(0, 132, 255, 0.4) !important;
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
      z-index: 1;
      position: relative;
    }

    @media only screen and (max-width: 768px) {
      table { font-size: 0.9rem; }
      .progress-title, .progress-subtitle, .progress-time, .progress-subnote, .next-countdown { text-align: center; }
    }
  </style>
</head>

<body>
  <h1 class="ui-shadow">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏°.5/1 ‡∏Å‡∏•‡∏∏‡πà‡∏° 3 ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 2/2568</h1>

  <div class="digital-clock ui-shadow" id="digital-clock">00:00:00</div>

  <!-- Progress bars -->
  <div class="progress-wrap">
    <div class="progress-block" id="current-block">
      <div class="progress-title ui-shadow">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</div>
      <div class="progress-subtitle ui-shadow" id="current-slot-label">‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
      <div class="progress-bar"><div class="progress-fill" id="current-progress"></div></div>
      <div class="progress-time ui-shadow" id="current-time-eta"></div>
    </div>

    <div class="progress-block" id="next-block">
      <div class="progress-title ui-shadow">‡∏Ñ‡∏≤‡∏ö/‡∏ä‡πà‡∏ß‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</div>
      <div class="progress-subtitle ui-shadow" id="next-slot-label">-</div>
      <!-- After short break hint -->
      <div class="progress-subnote ui-shadow" id="next-after" style="display:none;">-</div>

      <!-- Always-visible countdown -->
      <div class="next-countdown ui-shadow idle" id="next-countdown">--:--</div>

      <div class="progress-bar"><div class="progress-fill" id="next-progress"></div></div>
      <div class="progress-time ui-shadow" id="next-time-eta">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤ --:--</div>
    </div>
  </div>

  <div class="current-subject ui-shadow" id="current-subject">‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>

  <table>
    <thead>
      <tr>
        <th>‡∏ß‡∏±‡∏ô/‡πÄ‡∏ß‡∏•‡∏≤</th>
        <th>08.30-09.20</th>
        <th>09.20-10.10</th>
        <th>10.20-11.10</th>
        <th>11.10-12.00</th>
        <th>12.00-12.50</th>
        <th>12.50-13.40</th>
        <th>13.50-14.40</th>
        <th>14.40-15.30</th>
        <th>15.30-16.20</th>
        <th>16.20-17.10</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå</th>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏†‡∏ì‡∏¥‡∏ï‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 232">‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏†‡∏ì‡∏¥‡∏ï‡∏≤<br>232</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏†‡∏ì‡∏¥‡∏ï‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 232">‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏†‡∏ì‡∏¥‡∏ï‡∏≤<br>232</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏≠‡∏ä‡∏¥‡∏£ ‡∏´‡πâ‡∏≠‡∏á 332">Ind Study<br>‡∏Ñ‡∏£‡∏π‡∏≠‡∏ä‡∏¥‡∏£<br>332</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏≠‡∏ä‡∏¥‡∏£ ‡∏´‡πâ‡∏≠‡∏á 322">Ind Study<br>‡∏Ñ‡∏£‡∏π‡∏≠‡∏ä‡∏¥‡∏£<br>332</td>
        <td data-message="‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß">‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô<br>‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏Å‡∏±‡∏•‡∏¢‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 432">‡πÄ‡∏Ñ‡∏°‡∏µ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏Å‡∏±‡∏•‡∏¢‡∏≤<br>432</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏Å‡∏±‡∏•‡∏¢‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 432">‡πÄ‡∏Ñ‡∏°‡∏µ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏Å‡∏±‡∏•‡∏¢‡∏≤<br>432</td>
        <td data-message="‡∏£‡πâ‡∏≠‡∏¢‡∏ï‡∏£‡∏µ‡∏ß‡∏±‡∏ä‡∏ä‡∏±‡∏¢ ‡∏´‡πâ‡∏≠‡∏á ‡∏ù‡∏∂‡∏Å‡∏á‡∏≤‡∏ô2">‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û<br>‡∏£‡πâ‡∏≠‡∏¢‡∏ï‡∏£‡∏µ‡∏ß‡∏±‡∏ä‡∏ä‡∏±‡∏¢<br>‡∏ù‡∏∂‡∏Å‡∏á‡∏≤‡∏ô2</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <th>‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£</th>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏û‡∏á‡∏®‡∏Å‡∏£ ‡∏´‡πâ‡∏≠‡∏á 433">‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÇ‡∏•‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏ß‡∏Å‡∏≤‡∏®<br>‡∏Ñ‡∏£‡∏π‡∏û‡∏á‡∏®‡∏Å‡∏£(‡πÄ‡∏û‡∏ä‡∏£)<br>433</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏û‡∏á‡∏®‡∏Å‡∏£ ‡∏´‡πâ‡∏≠‡∏á 433">‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÇ‡∏•‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏ß‡∏Å‡∏≤‡∏®<br>‡∏Ñ‡∏£‡∏π‡∏û‡∏á‡∏®‡∏Å‡∏£(‡πÄ‡∏û‡∏ä‡∏£)<br>433</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏Å‡∏±‡∏•‡∏¢‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 432">‡πÄ‡∏Ñ‡∏°‡∏µ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏Å‡∏±‡∏•‡∏¢‡∏≤<br>432</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡πÄ‡∏à‡∏©‡∏é‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 213">‡∏ä‡∏µ‡∏ß‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡πÄ‡∏à‡∏©‡∏é‡∏≤<br>213</td>
        <td data-message="‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß">‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô<br>‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏≠‡∏£‡∏ó‡∏±‡∏¢ ‡∏´‡πâ‡∏≠‡∏á 627">‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢<br>‡∏Ñ‡∏£‡∏π‡∏≠‡∏£‡∏ó‡∏±‡∏¢<br>627</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ß‡∏¥‡∏ô‡∏±‡∏¢ ‡∏´‡πâ‡∏≠‡∏á 234">‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå<br>‡∏Ñ‡∏£‡∏π‡∏ß‡∏¥‡∏ô‡∏±‡∏¢<br>234</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ô‡∏§‡∏°‡∏¥‡∏ï ‡∏´‡πâ‡∏≠‡∏á ‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå5">‡∏™‡∏∏‡∏Ç‡∏∞‡∏û‡∏•‡∏∞<br>‡∏Ñ‡∏£‡∏π‡∏ô‡∏§‡∏°‡∏¥‡∏ï<br>‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå5</td>
        <td>‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏™‡∏µ</td>
        <td>-</td>
      </tr>
      <tr>
        <th>‡∏û‡∏∏‡∏ò</th>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ó‡∏≠‡∏á‡πÅ‡∏Ç ‡∏´‡πâ‡∏≠‡∏á 216(SMAT ‡∏°.4)">‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏ó‡∏≠‡∏á‡πÅ‡∏Ç<br>216(SMAT ‡∏°.4)</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ó‡∏≠‡∏á‡πÅ‡∏Ç ‡∏´‡πâ‡∏≠‡∏á 216(SMAT ‡∏°.4)">‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏ó‡∏≠‡∏á‡πÅ‡∏Ç<br>216(SMAT ‡∏°.4)</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ò‡∏¥‡∏ï‡∏¥‡∏°‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 613">‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß<br>‡∏Ñ‡∏£‡∏π‡∏ò‡∏¥‡∏ï‡∏¥‡∏°‡∏≤<br>613</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ì‡∏±‡∏ê‡∏û‡∏• ‡∏´‡πâ‡∏≠‡∏á 321">‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©<br>‡∏Ñ‡∏£‡∏π‡∏ì‡∏±‡∏ê‡∏û‡∏•<br>321</td>
        <td data-message="‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß">‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô<br>‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡πÄ‡∏à‡∏©‡∏é‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 213">‡∏ä‡∏µ‡∏ß‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡πÄ‡∏à‡∏©‡∏é‡∏≤<br>213</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡πÄ‡∏à‡∏©‡∏é‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 213">‡∏ä‡∏µ‡∏ß‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡πÄ‡∏à‡∏©‡∏é‡∏≤<br>213</td>
        <td data-message="‡∏ß‡πà‡∏≤‡∏á">‡∏ß‡πà‡∏≤‡∏á<br>‡∏Ñ‡∏£‡∏π -<br>N/A</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <th>‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ</th>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ß‡∏¥‡∏ô‡∏±‡∏¢ ‡∏´‡πâ‡∏≠‡∏á 234">‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå<br>‡∏Ñ‡∏£‡∏π‡∏ß‡∏¥‡∏ô‡∏±‡∏¢<br>234</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏≠‡∏£‡∏ó‡∏±‡∏¢ ‡∏´‡πâ‡∏≠‡∏á 627">‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢<br>‡∏Ñ‡∏£‡∏π‡∏≠‡∏£‡∏ó‡∏±‡∏¢<br>627</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏†‡∏ì‡∏¥‡∏ï‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 232">‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏†‡∏ì‡∏¥‡∏ï‡∏≤<br>232</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏†‡∏ì‡∏¥‡∏ï‡∏≤ ‡∏´‡πâ‡∏≠‡∏á 232">‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏†‡∏ì‡∏¥‡∏ï‡∏≤<br>232</td>
        <td data-message="‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß">‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô<br>‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ô‡∏ß‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏´‡πâ‡∏≠‡∏á 534">‡∏™‡∏±‡∏á‡∏Ñ‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏ô‡∏ß‡∏£‡∏±‡∏ï‡∏ô‡πå<br>534</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏û‡∏á‡∏®‡∏Å‡∏£ ‡∏´‡πâ‡∏≠‡∏á 433">‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÇ‡∏•‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏ß‡∏Å‡∏≤‡∏®<br>‡∏Ñ‡∏£‡∏π‡∏û‡∏á‡∏®‡∏Å‡∏£<br>433</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ß‡∏£‡∏≤‡∏†‡∏£‡∏ì‡πå ‡∏´‡πâ‡∏≠‡∏á ‡∏ä‡∏°‡∏ô‡∏∏‡∏°">‡∏î‡∏≤‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå<br>‡∏Ñ‡∏£‡∏π‡∏ß‡∏£‡∏≤‡∏†‡∏£‡∏ì‡πå<br>‡∏ä‡∏∏‡∏°‡∏ô‡∏∏‡∏°</td>
        <td>‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡∏¥‡∏°</td>
        <td>-</td>
      </tr>
      <tr class="bottom-row">
        <th>‡∏®‡∏∏‡∏Å‡∏£‡πå</th>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ó‡∏≠‡∏á‡πÅ‡∏Ç ‡∏´‡πâ‡∏≠‡∏á 218(SMAT ‡∏°.6)">‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏ó‡∏≠‡∏á‡πÅ‡∏Ç<br>218(SMAT ‡∏°.6)</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ó‡∏≠‡∏á‡πÅ‡∏Ç ‡∏´‡πâ‡∏≠‡∏á 218(SMAT ‡∏°.6)">‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏ó‡∏≠‡∏á‡πÅ‡∏Ç<br>218(SMAT ‡∏°.6)</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ò‡∏≤‡∏£‡∏≤‡∏ß‡∏∏‡∏í‡∏¥ ‡∏´‡πâ‡∏≠‡∏á 536">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå<br>‡∏Ñ‡∏£‡∏π‡∏ò‡∏≤‡∏£‡∏≤‡∏ß‡∏∏‡∏í‡∏¥<br>536</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ì‡∏±‡∏ê‡∏û‡∏• ‡∏´‡πâ‡∏≠‡∏á 321">‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©<br>‡∏Ñ‡∏£‡∏π‡∏ì‡∏±‡∏ê‡∏û‡∏•<br>321</td>
        <td data-message="‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß">‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô<br>‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏ô‡∏ß‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏´‡πâ‡∏≠‡∏á 534">‡∏™‡∏±‡∏á‡∏Ñ‡∏°<br>‡∏Ñ‡∏£‡∏π‡∏ô‡∏ß‡∏£‡∏±‡∏ï‡∏ô‡πå<br>534</td>
        <td data-message="‡∏Ñ‡∏£‡∏π‡∏™‡∏∏‡πÄ‡∏°‡∏ò ‡∏´‡πâ‡∏≠‡∏á 311">‡∏î‡∏ô‡∏ï‡∏£‡∏µ<br>‡∏Ñ‡∏£‡∏π‡∏™‡∏∏‡πÄ‡∏°‡∏ò<br>311</td>
        <td data-message="‡∏Ñ‡∏£‡∏πMbah Kingsley ‡∏´‡πâ‡∏≠‡∏á 328">English Addon<br>‡∏Ñ‡∏£‡∏πMbah Kingsley<br>328</td>
        <td>-</td>
        <td>-</td>
      </tr>
    </tbody>
  </table>

  <!-- üß† SCRIPT SECTION -->
  <script>
    const digitalClock = document.getElementById('digital-clock');
    const currentSubject = document.getElementById('current-subject');
    const curLabel = document.getElementById('current-slot-label');
    const curProg = document.getElementById('current-progress');
    const curEta = document.getElementById('current-time-eta');
    const nextBlock = document.getElementById('next-block');
    const nextLabel = document.getElementById('next-slot-label');
    const nextAfter = document.getElementById('next-after');
    const nextProg = document.getElementById('next-progress');
    const nextEta = document.getElementById('next-time-eta');
    const nextCountdown = document.getElementById('next-countdown');

    const PREVIEW_MIN = 10; // window size
    const PREVIEW_SEC = PREVIEW_MIN * 60;

    const periods = [
      { start: [8, 30], end: [9, 20] },
      { start: [9, 20], end: [10, 10] },
      { start: [10, 20], end: [11, 10] },
      { start: [11, 10], end: [12, 0] },
      { start: [12, 0], end: [12, 50] },
      { start: [12, 50], end: [13, 40] },
      { start: [13, 50], end: [14, 40] },
      { start: [14, 40], end: [15, 30] },
      { start: [15, 30], end: [16, 20] },
      { start: [16, 20], end: [17, 10] }
    ];

    // ===== Helpers with seconds precision =====
    function toMinutes(h, m, s = 0) { return h * 60 + m + s / 60; } // float minutes
    function hmToMinutes([h, m]) { return h * 60 + m; }
    function formatHMM(minsFloat) {
      const totalMin = Math.floor(minsFloat);
      const h = Math.floor(totalMin / 60);
      const m = totalMin % 60;
      return h.toString().padStart(2, '0') + ':' + m.toString().padStart(2, '0');
    }
    function formatMMSS(seconds) {
      const s = Math.max(0, Math.ceil(seconds));
      const mPart = Math.floor(s / 60).toString().padStart(2, '0');
      const sPart = (s % 60).toString().padStart(2, '0');
      return `${mPart}:${sPart}`;
    }

    // simple color lerp
    function lerp(a,b,t){ return a + (b - a) * t; }
    // Sky blue (#03dffc) -> Red (#ff3b30)
    function colorForRemaining(sec) {
      let t = 1 - Math.min(Math.max(sec, 0), PREVIEW_SEC) / PREVIEW_SEC; // 0 far .. 1 near
      const from = {r: 3, g: 223, b: 252};
      const to   = {r: 255, g: 59, b: 48};
      const r = Math.round(lerp(from.r, to.r, t));
      const g = Math.round(lerp(from.g, to.g, t));
      const b = Math.round(lerp(from.b, to.b, t));
      return `rgb(${r}, ${g}, ${b})`;
    }

    // ‡∏à‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á "‡∏ß‡∏¥‡∏ä‡∏≤ ‡∏Ñ‡∏£‡∏π ‡∏´‡πâ‡∏≠‡∏á"
    function formatCell(cell) {
      const raw = (cell.innerText || cell.textContent || '').trim();
      const parts = raw.split(/\s*[\r\n]+\s*/).map(s => s.trim()).filter(Boolean);
      return parts.join(' ').replace(/\s+/g, ' ');
    }

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤" ‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ (‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏≤‡∏ö)
    function buildSegments(row) {
      const segs = [];
      for (let i = 0; i < periods.length; i++) {
        const p = periods[i];
        const start = hmToMinutes(p.start);
        const end = hmToMinutes(p.end);
        const cell = row.cells[i + 1];
        const label = (cell && cell.textContent.trim() && cell.textContent.trim() !== '-') ? formatCell(cell) : '‡∏ß‡πà‡∏≤‡∏á';
        const isLunch = /‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô/.test(label);
        const type = isLunch ? 'lunch' : 'class';
        segs.push({ type, start, end, label });

        // ‡πÅ‡∏ó‡∏£‡∏Å "‡∏û‡∏±‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô" ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏≤‡∏ö‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á
        if (i < periods.length - 1) {
          const nextStart = hmToMinutes(periods[i + 1].start);
          if (end < nextStart) {
            segs.push({ type: 'break', start: end, end: nextStart, label: '‡∏û‡∏±‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô' });
          }
        }
      }
      segs.sort((a, b) => a.start - b.start);
      return segs;
    }

    function findCurrentSegment(segs, nowMinFloat) {
      for (let i = 0; i < segs.length; i++) {
        if (nowMinFloat >= segs[i].start && nowMinFloat < segs[i].end) {
          return i;
        }
      }
      return -1;
    }

    // helper: choose next label based on type
    function nextLabelText(seg) {
      if (!seg) return '-';
      if (seg.type === 'lunch') return '‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô';
      if (seg.type === 'break') return '‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ‡∏û‡∏±‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô';
      return `‡∏ñ‡∏±‡∏î‡πÑ‡∏õ: ${seg.label}`;
    }

    // helper: choose "after break" label if next is a short break
    function afterBreakText(afterSeg) {
      if (!afterSeg) return '';
      if (afterSeg.type === 'lunch') return '‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô: ‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô';
      if (afterSeg.type === 'break') return '‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô: ‡∏û‡∏±‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô';
      return `‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô: ${afterSeg.label}`;
    }

    function updateNextBox(segs, nowMinFloat) {
      // determine the upcoming segment (first with start > now)
      const upcomingIndex = segs.findIndex(s => nowMinFloat < s.start);
      const next = upcomingIndex !== -1 ? segs[upcomingIndex] : null;

      // Labels
      nextLabel.textContent = nextLabelText(next);
      nextAfter.style.display = 'none';

      if (next && next.type === 'break') {
        const after = (upcomingIndex + 1 < segs.length) ? segs[upcomingIndex + 1] : null;
        const text = afterBreakText(after);
        if (text) {
          nextAfter.style.display = '';
          nextAfter.textContent = text;
        }
      }

      // Start time
      if (next) {
        nextEta.textContent = `‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤ ${formatHMM(next.start)}`;
      } else {
        nextEta.textContent = `‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤ --:--`;
      }

      // Countdown logic (always visible)
      if (!next) {
        nextCountdown.textContent = '--:--';
        nextCountdown.classList.add('idle');
        nextCountdown.classList.remove('blink');
        // box glow red
        nextBlock.style.boxShadow = '0 0 18px 2px rgba(255,59,48,0.8)';
        // progress bar reset
        nextProg.style.width = '0%';
        return;
      }

      const diffSec = Math.max(0, (next.start - nowMinFloat) * 60);
      const withinWindow = diffSec <= PREVIEW_SEC && diffSec > 0;

      if (!withinWindow) {
        // out of 10-min window
        nextCountdown.textContent = '--:--';
        nextCountdown.classList.add('idle');
        nextCountdown.classList.remove('blink');
        nextCountdown.style.color = '#ff3b30';
        nextBlock.style.boxShadow = '0 0 18px 2px rgba(255,59,48,0.8)';
        nextProg.style.width = '0%';
      } else {
        // show mm:ss and color shift from sky blue -> red as it approaches 0
        nextCountdown.textContent = formatMMSS(diffSec);
        nextCountdown.classList.remove('idle');

        // color & glow based on remaining time
        const c = colorForRemaining(diffSec);
        nextCountdown.style.color = c;
        nextBlock.style.boxShadow = `0 0 18px 2px ${c.replace('rgb', 'rgba').replace(')', ',0.8)')}`;

        // 30s warning blink
        if (diffSec <= 30) {
          nextCountdown.classList.add('blink');
        } else {
          nextCountdown.classList.remove('blink');
        }

        // progress bar for the 10-min preview window
        const previewElapsed = PREVIEW_SEC - diffSec; // 0..PREVIEW_SEC
        const nextPct = Math.min(100, Math.max(0, (previewElapsed / PREVIEW_SEC) * 100));
        nextProg.style.width = nextPct + '%';
      }
    }

    function updateProgressBars(segs, idx, nowMinFloat) {
      // ‡∏•‡πâ‡∏≤‡∏á‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á
      document.querySelectorAll('td').forEach(td => td.classList.remove('highlighted'));

      if (idx === -1) {
        curLabel.textContent = '‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô';
        curProg.style.width = '0%';
        curEta.textContent = '';
        currentSubject.textContent = '‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô';
        // Next box still handled separately (always visible)
        return;
      }

      const cur = segs[idx];
      const durMin = cur.end - cur.start;
      const elapsedMin = Math.max(0, nowMinFloat - cur.start);
      const remainMin = Math.max(0, cur.end - nowMinFloat);
      const pct = Math.min(100, Math.max(0, (elapsedMin / durMin) * 100));

      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï label ‡πÅ‡∏•‡∏∞‡πÅ‡∏ñ‡∏ö
      if (cur.type === 'lunch') {
        curLabel.textContent = '‡∏ä‡πà‡∏ß‡∏á‡∏û‡∏±‡∏Å: ‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô';
        currentSubject.textContent = '‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ: ‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô';
      } else {
        curLabel.textContent = `‡∏Ñ‡∏≤‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ${cur.label}`;
        currentSubject.textContent = '‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ' + cur.label;
      }

      curProg.style.width = pct + '%';
      curEta.textContent = `‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤ ${formatMMSS(remainMin * 60)} (‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î ${formatHMM(cur.end)})`;

      // ‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå cell ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
      const tbody = document.querySelector('tbody');
      const dayIdx = new Date().getDay();
      const rowIndex = dayIdx - 1;
      if (!(dayIdx === 0 || dayIdx === 6 || !tbody.rows[rowIndex])) {
        if (cur.type === 'class') {
          for (let i = 0; i < periods.length; i++) {
            const pStart = hmToMinutes(periods[i].start);
            const pEnd = hmToMinutes(periods[i].end);
            if (cur.start === pStart && cur.end === pEnd) {
              const cell = tbody.rows[rowIndex].cells[i + 1];
              if (cell) cell.classList.add('highlighted');
              break;
            }
          }
        }
      }
    }

    function updateClock() {
      const now = new Date();
      const h = now.getHours();
      const m = now.getMinutes();
      const s = now.getSeconds();

      digitalClock.textContent =
        h.toString().padStart(2, '0') + ':' +
        m.toString().padStart(2, '0') + ':' +
        s.toString().padStart(2, '0');

      updateState(h, m, s);
    }

    function updateState(hour, minute, second = 0) {
      const dayIdx = new Date().getDay(); // 0-6
      const tbody = document.querySelector('tbody');
      const rowIndex = dayIdx - 1; // Monday=0

      // ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î
      if (dayIdx === 0 || dayIdx === 6 || !tbody.rows[rowIndex]) {
        // No current segments, but still update next box (could be next day ‚Äî we won't predict cross-day)
        curLabel.textContent = '‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î)';
        curProg.style.width = '0%';
        curEta.textContent = '';
        currentSubject.textContent = '‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î)';
        // keep next box showing --:--
        nextLabel.textContent = '-';
        nextEta.textContent = '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤ --:--';
        nextCountdown.textContent = '--:--';
        nextCountdown.classList.add('idle');
        nextCountdown.classList.remove('blink');
        nextBlock.style.boxShadow = '0 0 18px 2px rgba(255,59,48,0.8)';
        nextProg.style.width = '0%';
        nextAfter.style.display = 'none';
        return;
      }

      const row = tbody.rows[rowIndex];
      const segs = buildSegments(row);
      const nowMinFloat = toMinutes(hour, minute, second);
      const idx = findCurrentSegment(segs, nowMinFloat);

      // Update both current box and next box
      updateProgressBars(segs, idx, nowMinFloat);
      updateNextBox(segs, nowMinFloat);
    }

    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    setInterval(updateClock, 1000);
    updateClock();
  </script>

</body>
</html>
